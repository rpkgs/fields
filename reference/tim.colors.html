<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Some useful color tables for images and tools to handle them. — tim.colors • fields</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Some useful color tables for images and tools to handle them. — tim.colors"><meta property="og:description" content="Several color scales useful for image plots: a pleasing rainbow style
color table patterned after that used in Matlab by Tim Hoar and also
some simple color interpolation schemes between two or more
colors. There is also a function that converts between colors and a
real valued vector."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fields</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">14.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Tps.html">Tps usage illustration</a>
    </li>
    <li>
      <a href="../articles/fastTps.html">fastTps</a>
    </li>
    <li>
      <a href="../articles/predictSurface.html">predictSurface</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dnychka/fieldsRPackage/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Some useful color tables for images and tools to handle them.</h1>
    
    <div class="hidden name"><code>tim.colors.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Several color scales useful for image plots: a pleasing rainbow style
color table patterned after that used in Matlab by Tim Hoar and also
some simple color interpolation schemes between two or more
colors. There is also a function that converts between colors and a
real valued vector.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tim.colors</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">64</span>, alpha<span class="op">=</span><span class="fl">1.0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">larry.colors</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">snow.colors</span><span class="op">(</span>n<span class="op">=</span><span class="fl">256</span>, alpha<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">two.colors</span><span class="op">(</span>n<span class="op">=</span><span class="fl">256</span>, start<span class="op">=</span><span class="st">"darkgreen"</span>, end<span class="op">=</span><span class="st">"red"</span>, middle<span class="op">=</span><span class="st">"white"</span>,</span>
<span>alpha<span class="op">=</span><span class="fl">1.0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">designer.colors</span><span class="op">(</span> n<span class="op">=</span><span class="fl">256</span>, col<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"darkgreen"</span>, <span class="st">"white"</span>, <span class="st">"darkred"</span><span class="op">)</span>, x<span class="op">=</span></span>
<span>                              <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">col</span><span class="op">)</span><span class="op">)</span> ,alpha<span class="op">=</span><span class="fl">1.0</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">color.scale</span><span class="op">(</span><span class="va">z</span>, col <span class="op">=</span> <span class="va">tim.colors</span>, NC <span class="op">=</span> <span class="fl">256</span>, zlim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                 transparent.color <span class="op">=</span> <span class="st">"white"</span>, eps <span class="op">=</span> <span class="fl">1e-08</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">fieldsPlotColors</span><span class="op">(</span> <span class="va">col</span>,<span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>alpha</dt>
<dd><p>The transparency of the color -- 1.0 is opaque and 0 is
             transparent.  This is useful for overlays of color and
             still being able to view the graphics that is covered.</p></dd>


<dt>n</dt>
<dd><p>Number of color levels. The setting <code>n</code>=64 is the
orignal definition.</p></dd>


<dt>start</dt>
<dd><p>Starting color for lowest values in color scale</p></dd>


<dt>end</dt>
<dd><p>Ending color.</p></dd>


<dt>middle</dt>
<dd><p>Color scale passes through this color at halfway</p></dd>


<dt>col</dt>
<dd><p>A list of colors (names or hex values) to interpolate.
But for the <code>color.scale</code> function this can be also be a function that
returns <code>NC</code> colors when called with just the
<code>NC</code> argument.</p></dd>


<dt>x</dt>
<dd><p>Positions of colors on a [0,1] scale. Default is to assume
that the x values are equally spacesd from 0 to 1.</p></dd>


<dt>z</dt>
<dd><p>Real vector to encode in a color table.</p></dd>


<dt>zlim</dt>
<dd><p>Range to use for color scale. Default is the
<code>range(z)</code> inflated by 1- eps and 1+eps.</p></dd>


<dt>transparent.color</dt>
<dd><p>Color value to use for NA's or values outside
<code>zlim</code></p></dd>


<dt>eps</dt>
<dd><p>A small inflation of the range to avoid the  boundary values of
<code>z</code> being coded as NAs.</p></dd>


<dt>NC</dt>
<dd><p>The number of colors to return from calling the function passed in the <code>col</code> argument. This is only used if <code>col</code> is a function.</p></dd>


<dt>...</dt>
<dd><p>Additional plotting arguments to codeimage.plot</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The color in R can be represented as three vectors in RGB coordinates
and these coordinates are interpolated separately using a cubic spline
to give color values that intermediate to the specified colors.</p>
<p>Ask Tim Hoar about <code>tim.colors</code>! He is a Mattlab black belt and
this is his favorite scale in that system.  <code>two.colors</code> is
really about three different colors. For other colors try
<code>fields.color.picker</code> to view possible choices.
<code>start="darkgreen", end="azure4"</code> are the options used to get a
nice color scale for rendering aerial photos of ski trails.  (See
<a href="https://github.com/dnychka/MJProject" class="external-link">https://github.com/dnychka/MJProject</a>.)
<code>larry.colors</code>
is a 13 color palette used by Larry McDaniel (retired software engineer from NCAR) and is particularly
useful for visualizing fields of climate variables.</p>
<p><code>snow.colors</code> is the scale used by Will Klieber's team for
visualizing snow cover from remotely sensed data products. See the
commented code for the script as to how how this was formed from an orignal raw 256 level scale. Note the that first color in this table is grey and is
desigend to represent the minimum value of the range ( e.g. 0).
If the image in in percent snow cover then <code>zlim=c(0,100)</code>
would make sense as a range to fit grey pixels to zero and white to 100 percent.</p>
<p><code>designer.color</code> is the master function for the other scales. 
 It can be useful if one wants to customize the color
table to match quantiles of a distribution.  e.g. if the median of the
data is at .3 with respect to the range then set <code>x</code> equal to
c(0,.3,1) and specify two colors to provide a transtion that matches
the median value. In fields language this function interpolates
between a set of colors at locations x. While you can be creative
about these colors just using another color scale as the basis is
easy. For example</p>
<p><code>designer.color( 256, rainbow(4), x= c( 0,.2,.8,1.0))</code></p>
<p>leaves the choice of the colors to Dr. R after a thunderstorm.
See also colorBrewer to choose sequences of colors that form a good palette.</p>
<p><code>color.scale</code> assigns colors to a numerical vector in the same way as 
the <code>image</code> function. This is useful to kept the assigment of colors consistent
across several vectors by specifiying a common <code>zlim</code> range.</p>
<p><code>plotColorScale</code> A simple function to plot a vector of colors to examine their values.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    


<p>A vector giving the colors in a hexadecimal format, two extra hex
digits are added for the alpha channel.</p>


    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>topo.colors, terrain.colors, image.plot, quilt.plot, grey.scale,
fields.color.picker</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># tim.colors(10) </span></span></span>
<span class="r-in"><span><span class="co"># # returns an array of 10 character strings encoding colors in hex format</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># # e.g. (red, green,  blue) values of   (16,255, 239)</span></span></span>
<span class="r-in"><span><span class="co"># #   translates to "#10FFEF" </span></span></span>
<span class="r-in"><span><span class="co"># # rgb( 16/255, 255/255, 239/255, alpha=.5)</span></span></span>
<span class="r-in"><span><span class="co"># #   gives   "#10FFEF80"  note extra "alpha channel"</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># # view some color table choices</span></span></span>
<span class="r-in"><span><span class="co"># set.panel( 4,1)</span></span></span>
<span class="r-in"><span><span class="co"># fieldsPlotColors( tim.colors())</span></span></span>
<span class="r-in"><span><span class="co"># title("tim.colors")</span></span></span>
<span class="r-in"><span><span class="co"># fieldsPlotColors( larry.colors())</span></span></span>
<span class="r-in"><span><span class="co"># title("larry.colors")</span></span></span>
<span class="r-in"><span><span class="co"># fieldsPlotColors( two.colors())</span></span></span>
<span class="r-in"><span><span class="co"># title("two.colors")</span></span></span>
<span class="r-in"><span><span class="co"># fieldsPlotColors( snow.colors())</span></span></span>
<span class="r-in"><span><span class="co"># title("snow.colors")</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># # a bubble plot with some transparency for overlapping dots</span></span></span>
<span class="r-in"><span><span class="co"># set.seed(123)</span></span></span>
<span class="r-in"><span><span class="co"># loc&lt;- matrix( rnorm( 200), 100,2)</span></span></span>
<span class="r-in"><span><span class="co"># Z&lt;- loc[,1] + loc[,2]</span></span></span>
<span class="r-in"><span><span class="co"># colorMap&lt;- color.scale( Z, col=tim.colors(10, alpha=.8))</span></span></span>
<span class="r-in"><span><span class="co"># par( mar=c(5,5,5,5)) # extra room on right for color bar</span></span></span>
<span class="r-in"><span><span class="co"># plot( loc, col=colorMap, pch=16, cex=2)</span></span></span>
<span class="r-in"><span><span class="co"># #  add a color scale</span></span></span>
<span class="r-in"><span><span class="co">#  image.plot(legend.only=TRUE, zlim=range( Z), col=tim.colors(10))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># # using tranparency without alpha the image plot would cover points</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># obj&lt;- list( x= 1:8, y=1:10, z= outer( 1:8, 1:10, "+") )</span></span></span>
<span class="r-in"><span><span class="co"># plot( 1:10,1:10)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># image(obj, col=two.colors(alpha=.5), add=TRUE)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># coltab&lt;- designer.colors(col=c("blue", "grey", "green"),</span></span></span>
<span class="r-in"><span><span class="co">#                    x= c( 0,.3,1) )</span></span></span>
<span class="r-in"><span>       </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># image( obj, col= coltab )</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># # peg colors at some desired quantiles  of data.</span></span></span>
<span class="r-in"><span><span class="co"># # NOTE need 0 and 1 for the color scale to make sense</span></span></span>
<span class="r-in"><span><span class="co"># x&lt;- quantile( c(obj$z), c(0,.25,.5,.75,1.0) )</span></span></span>
<span class="r-in"><span><span class="co"># # scale these to [0,1]</span></span></span>
<span class="r-in"><span><span class="co"># zr&lt;- range( c(obj$z))</span></span></span>
<span class="r-in"><span><span class="co"># x&lt;- (x-zr[1])/ (zr[2] - zr[1])  </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># coltab&lt;- designer.colors(256,rainbow(5), x)</span></span></span>
<span class="r-in"><span><span class="co"># image( obj$z, col= coltab )</span></span></span>
<span class="r-in"><span><span class="co"># # see image.plot for adding all kinds of legends</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set.panel()</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Douglas Nychka, Reinhard Furrer, John Paige, Stephan Sain, Florian Gerber, Matthew Iverson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

