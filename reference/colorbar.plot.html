<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Adds color scale strips to an existing plot. — colorbar.plot • fields</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Adds color scale strips to an existing plot. — colorbar.plot"><meta property="og:description" content="Adds one or more color scales in a horizontal orientation, 
vertical orientation to an existing plot."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fields</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">14.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Tps.html">Tps usage illustration</a>
    </li>
    <li>
      <a href="../articles/fastTps.html">fastTps</a>
    </li>
    <li>
      <a href="../articles/predictSurface.html">predictSurface</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/dnychka/fieldsRPackage/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adds color scale strips to an existing plot.</h1>
    
    <div class="hidden name"><code>colorbar.plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds one or more color scales in a horizontal orientation, 
vertical orientation to an existing plot.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">colorbar.plot</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, <span class="va">strip</span>, strip.width <span class="op">=</span> <span class="fl">0.1</span>, strip.length <span class="op">=</span> <span class="fl">4</span> <span class="op">*</span> <span class="va">strip.width</span>, </span>
<span>zrange <span class="op">=</span> <span class="cn">NULL</span>, adj.x <span class="op">=</span> <span class="fl">0.5</span>, adj.y <span class="op">=</span> <span class="fl">0.5</span>, col <span class="op">=</span> <span class="fu"><a href="tim.colors.html">tim.colors</a></span><span class="op">(</span><span class="fl">256</span><span class="op">)</span>, </span>
<span>horizontal <span class="op">=</span> <span class="cn">TRUE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>x position of strip  in user coordinates</p></dd>

  <dt>y</dt>
<dd><p>y position of strip in user coordinates</p></dd>

  <dt>strip</dt>
<dd><p>Either a vector or matrix giving the values of the color 
strip(s). If a matrix then strips are assumed to be the columns.</p></dd>

  <dt>strip.width</dt>
<dd><p>Width of strip as a fraction of the plotting 
region.</p></dd>

  <dt>strip.length</dt>
<dd><p>Length of strip as a function of the plotting 
region. Default is a pleasing 8 times width.</p></dd>

  <dt>zrange</dt>
<dd><p>If a vector these are the common limits used for 
   assigning the color scale. Default is to use the range of values in 
strip. If a two column matrix, rows are used as the limits for each 
strip.</p></dd>

  <dt>adj.x</dt>
<dd><p>Location of strip relative to x coordinate. Most 
common values are .5 (centered), 0 (right end at x) and  1 (left end of 
at x). These are the same conventions that are used for <code>adj</code> in 
positioning text.</p></dd>

  <dt>adj.y</dt>
<dd><p>Location of strip relative to y coordinate. 
Same rules as <code>adj.x</code></p></dd>

  <dt>col</dt>
<dd><p>Color table used for strip. Default is our favorite 
tim.colors being a scale from a dark blue to dark red.</p></dd>

  <dt>horizontal</dt>
<dd><p>If TRUE draws strips horizontally. If FALSE strips 
are drawn vertically</p></dd>

  <dt>...</dt>
<dd><p>optional graphical arguments that are passed to 
the <code>image</code> function.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function draws the strips as a sequence of image plots added to the 
existing plot. The main work is in creating a grid ( x,y) for the image 
that makes sense when superimposed on the plot. 
Note that although the columns of strip are considered as 
separate strips these can be oriented either horizontally or vertically 
based on the value of <code>horizontal</code>. The rows of zrange are
essentially the <code>zlim</code> argument passed to the <code>image</code> function 
when each strip is drawn.</p>
<p>Don't forget to use <code>locator</code> to interactively determine positions. 
<code>text</code> can be used to label points neatly in conjunction with 
setting adj.x and adj.y.  Although this function is inefficient for 
placing images at arbitrary locations on a plot the code can be easily 
adapted to do this.</p>
<p>This function was created to depict univariate posterior 
distribution on a map. The values are quantiles of the distribution and 
the strips when added under a common color scale give an overall 
impression of location and scale for several distributions.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Doug Nychka</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>image.plot, arrow.plot, add.image</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># set up a plot but don't plot points  and no "box"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span><span class="op">*</span><span class="fl">10</span>, type<span class="op">=</span><span class="st">"n"</span>, bty<span class="op">=</span><span class="st">"n"</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co"># of course this could be anything </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">15</span>, <span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">15</span><span class="op">)</span><span class="op">+</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">colorbar.plot</span><span class="op">(</span> <span class="fl">2.5</span>, <span class="fl">30</span>, <span class="va">y</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/points.html" class="external-link">points</a></span><span class="op">(</span> <span class="fl">2.5</span>,<span class="fl">30</span>, pch<span class="op">=</span><span class="st">"+"</span>, cex<span class="op">=</span><span class="fl">2</span>, adj<span class="op">=</span><span class="fl">.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># note that strip is still in 1:8 aspect even though plot has very </span></span></span>
<span class="r-in"><span><span class="co"># different ranges for x and y. </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># adding legend using image.plot</span></span></span>
<span class="r-in"><span><span class="va">zr</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/range.html" class="external-link">range</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="va">y</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="image.plot.html">image.plot</a></span><span class="op">(</span> legend.only<span class="op">=</span><span class="cn">TRUE</span>, zlim<span class="op">=</span> <span class="va">zr</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="co"># see help(image.plot) to create more room in margin etc. </span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">zr</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">20</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">100</span><span class="op">)</span><span class="op">)</span> <span class="co"># separate ranges for columns of y. </span></span></span>
<span class="r-in"><span><span class="fu">colorbar.plot</span><span class="op">(</span> <span class="fl">5</span>, <span class="fl">70</span>, <span class="va">y</span>, adj.x<span class="op">=</span><span class="fl">0</span>, zrange<span class="op">=</span> <span class="va">zr</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># some reference lines to show placement</span></span></span>
<span class="r-in"><span><span class="fu"><a href="xline.html">xline</a></span><span class="op">(</span> <span class="fl">5</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="co"># strip starts at x=5 </span></span></span>
<span class="r-in"><span><span class="fu"><a href="yline.html">yline</a></span><span class="op">(</span><span class="fl">70</span>, lty<span class="op">=</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># strip is centered around y=7 (because adj.y=.5 by default)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># many strips on common scale.</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span> <span class="fl">1</span><span class="op">:</span><span class="fl">200</span>, ncol<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">colorbar.plot</span><span class="op">(</span> <span class="fl">2</span>, <span class="fl">75</span>, <span class="va">y</span>, horizontal<span class="op">=</span><span class="cn">FALSE</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html" class="external-link">rainbow</a></span><span class="op">(</span><span class="fl">256</span><span class="op">)</span><span class="op">)</span> </span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Xmas strip</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span>,<span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">y</span><span class="op">[</span><span class="fl">15</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span> <span class="co"># NA's should work </span></span></span>
<span class="r-in"><span><span class="fu">colorbar.plot</span><span class="op">(</span> <span class="fl">6</span>, <span class="fl">45</span>, <span class="va">y</span>, adj.y<span class="op">=</span><span class="fl">1</span>,col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/text.html" class="external-link">text</a></span><span class="op">(</span><span class="fl">6</span>,<span class="fl">48</span>,<span class="st">"Christmas strip"</span>, cex<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># lennon thumbnail</span></span></span>
<span class="r-in"><span><span class="co"># there are better ways to this ... see add.image for example.</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span> <span class="va">lennon</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">colorbar.plot</span><span class="op">(</span> <span class="fl">7.5</span>,<span class="fl">22</span>, <span class="va">lennon</span>, </span></span>
<span class="r-in"><span>           strip.width<span class="op">=</span><span class="fl">.25</span>, strip.length<span class="op">=</span><span class="fl">.25</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span> <span class="fl">0</span>,<span class="fl">1</span>,,<span class="fl">256</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="colorbar.plot-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Douglas Nychka, Reinhard Furrer, John Paige, Stephan Sain, Florian Gerber, Matthew Iverson.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

